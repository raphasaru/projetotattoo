---
const weeks = [
  {
    week: 1,
    title: "Fundamentos",
    description: "Biossegurança, equipamentos, primeiro contato com máquina e treino em pele sintética",
    icon: "foundation",
    highlight: "Base sólida"
  },
  {
    week: 2,
    title: "Técnicas",
    description: "Linhas finas e grossas, preenchimento, sombreado básico e sua primeira tatuagem real",
    icon: "techniques",
    highlight: "1ª tattoo real"
  },
  {
    week: 3,
    title: "Aprofundamento",
    description: "Diferentes estilos, composição e fluxo. Segunda tatuagem em voluntários",
    icon: "depth",
    highlight: "2ª tattoo"
  },
  {
    week: 4,
    title: "Profissionalização",
    description: "Precificação, como conseguir clientes e certificado de conclusão",
    icon: "pro",
    highlight: "Certificado"
  }
];

const whatsappLink = "https://api.whatsapp.com/send?phone=5511999999999&text=Oi!%20Quero%20saber%20sobre%20as%20próximas%20turmas";
---

<section class="method-section section">
  <div class="container">
    <div class="method-header">
      <span class="section-label">O Método</span>
      <h2 class="method-title">Do Zero ao Tatuador<br/><span class="gold">em 4 Semanas</span></h2>
      <p class="method-subtitle">40 horas de imersão presencial com acompanhamento individual</p>
    </div>

    <div class="method-photos">
      <div class="method-photo">
        <img src="/images/sala-unidade-campo-belo1.webp" alt="Sala de aula do Projeto Tattoo - unidade Moema" loading="lazy" decoding="async" width="1080" height="810" />
        <span class="photo-caption">Sala de aula</span>
      </div>
      <div class="method-photo">
        <img src="/images/fachada-unidade-campo-belo.webp" alt="Fachada da unidade Moema do Projeto Tattoo" loading="lazy" decoding="async" width="1080" height="810" />
        <span class="photo-caption">Unidade Moema</span>
      </div>
    </div>

    <div class="timeline">
      <div class="timeline-line"></div>

      {weeks.map((item, index) => (
        <div class="timeline-item" style={`--delay: ${index * 0.15}s`}>
          <div class="timeline-marker">
            <span class="week-number">{item.week}</span>
          </div>

          <div class="timeline-content">
            <div class="content-header">
              <span class="week-highlight">{item.highlight}</span>
            </div>

            <h3 class="week-title">{item.title}</h3>
            <p class="week-description">{item.description}</p>

            <div class="content-icon">
              {item.icon === "foundation" && (
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M2 20h20"/>
                  <path d="M5 20V10l7-5 7 5v10"/>
                  <path d="M9 20v-6h6v6"/>
                </svg>
              )}
              {item.icon === "techniques" && (
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M12 19l7-7 3 3-7 7-3-3z"/>
                  <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18"/>
                  <path d="M2 2l7.586 7.586"/>
                  <circle cx="11" cy="11" r="2"/>
                </svg>
              )}
              {item.icon === "depth" && (
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                </svg>
              )}
              {item.icon === "pro" && (
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <circle cx="12" cy="8" r="7"/>
                  <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
                </svg>
              )}
            </div>
          </div>
        </div>
      ))}
    </div>

    <div class="method-cta">
      <div class="cta-box">
        <div class="cta-info">
          <span class="cta-badge">Próxima turma em breve</span>
          <p class="cta-text">Turmas com no máximo <strong>6 alunos</strong> para garantir atenção individual</p>
        </div>
        <a href={whatsappLink} target="_blank" rel="noopener" class="cta-button">
          <span>Ver vagas disponíveis</span>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</section>

<style>
  .method-section {
    background: linear-gradient(180deg, var(--black) 0%, var(--black-light) 100%);
    position: relative;
  }

  .method-header {
    text-align: center;
    margin-bottom: 5rem;
  }

  .section-label {
    display: inline-block;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.3em;
    color: var(--gold);
    margin-bottom: 1rem;
  }

  .method-title {
    font-family: var(--font-display);
    font-size: clamp(2rem, 4vw, 3rem);
    text-transform: uppercase;
    line-height: 1.2;
    margin-bottom: 1rem;
  }

  .gold {
    color: var(--gold);
  }

  .method-subtitle {
    color: var(--white-dim);
    font-size: 1.1rem;
  }

  .method-photos {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    max-width: 900px;
    margin: 0 auto 5rem;
  }

  .method-photo {
    position: relative;
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid rgba(201, 169, 98, 0.2);
  }

  .method-photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .photo-caption {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 0.75rem 1rem;
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--gold);
  }

  /* Timeline */
  .timeline {
    position: relative;
    max-width: 900px;
    margin: 0 auto;
  }

  .timeline-line {
    position: absolute;
    left: 40px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, var(--gold), var(--green));
  }

  .timeline-item {
    display: flex;
    gap: 2rem;
    margin-bottom: 3rem;
    opacity: 0;
    transform: translateX(-20px);
    animation: slideIn 0.6s ease-out var(--delay) forwards;
  }

  .timeline-item:last-child {
    margin-bottom: 0;
  }

  @keyframes slideIn {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .timeline-marker {
    flex-shrink: 0;
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--black);
    border: 2px solid var(--gold);
    border-radius: 50%;
    position: relative;
    z-index: 1;
  }

  .week-number {
    font-family: var(--font-display);
    font-size: 2rem;
    color: var(--gold);
  }

  .timeline-content {
    flex: 1;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 16px;
    padding: 2rem;
    position: relative;
    transition: all 0.3s ease;
  }

  .timeline-content:hover {
    background: rgba(201, 169, 98, 0.05);
    border-color: rgba(201, 169, 98, 0.2);
  }

  .content-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.75rem;
  }

  .week-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--white-dim);
  }

  .week-highlight {
    font-size: 0.75rem;
    padding: 0.25rem 0.75rem;
    background: rgba(34, 197, 94, 0.15);
    color: var(--green);
    border-radius: 100px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  .week-title {
    font-family: var(--font-display);
    font-size: 1.75rem;
    text-transform: uppercase;
    margin-bottom: 0.75rem;
    color: var(--white);
  }

  .week-description {
    color: var(--white-dim);
    line-height: 1.7;
    font-size: 0.95rem;
  }

  .content-icon {
    position: absolute;
    top: 2rem;
    right: 2rem;
    width: 40px;
    height: 40px;
    color: var(--gold);
    opacity: 0.3;
  }

  .content-icon svg {
    width: 100%;
    height: 100%;
  }

  /* CTA */
  .method-cta {
    margin-top: 4rem;
  }

  .cta-box {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 2rem;
    padding: 2rem 3rem;
    background: rgba(34, 197, 94, 0.05);
    border: 1px solid rgba(34, 197, 94, 0.2);
    border-radius: 16px;
  }

  .cta-badge {
    display: inline-block;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--green);
    margin-bottom: 0.5rem;
  }

  .cta-text {
    color: var(--white-dim);
    font-size: 0.95rem;
  }

  .cta-text strong {
    color: var(--white);
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 2rem;
    background: var(--green);
    color: var(--white);
    font-weight: 600;
    font-size: 0.95rem;
    border-radius: 8px;
    white-space: nowrap;
    transition: all 0.3s ease;
  }

  .cta-button:hover {
    background: var(--green-dark);
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(34, 197, 94, 0.3);
  }

  .cta-button svg {
    transition: transform 0.3s ease;
  }

  .cta-button:hover svg {
    transform: translateX(4px);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .method-photos {
      grid-template-columns: 1fr;
      max-width: 400px;
    }

    .timeline-line {
      left: 20px;
    }

    .timeline-marker {
      width: 40px;
      height: 40px;
    }

    .week-number {
      font-size: 1.25rem;
    }

    .timeline-item {
      gap: 1rem;
    }

    .content-icon {
      display: none;
    }

    .cta-box {
      flex-direction: column;
      text-align: center;
      padding: 2rem;
    }

    .cta-button {
      width: 100%;
      justify-content: center;
    }
  }
</style>
